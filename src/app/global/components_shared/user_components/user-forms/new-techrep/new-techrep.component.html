<div class="p-5 user-form">
    <div class="d-flex align-items-center mb-5">
        <div class="mr-3">
            <img src="/assets/media-files/tech-icon.png" class="user-icon" alt="dealer-icon">
        </div>
        <div class="flex-even">
            <h3 class="mb-0">{{ form_title }}</h3>
            <p class="sm-text mb-0">{{ form_description }}</p>
        </div>
        <div class="text-right">
            <a class="sm-text font-weight-bold text-primary" [routerLink]="['/administrator/users/create-user']">
                <span class="fas fa-angle-left mr-2"></span>
                Select User Type
            </a>
        </div>
    </div>

    <form [formGroup]="new_tech_form" (ngSubmit)="createNewTech(formDirective)" class="text-left" #formDirective="ngForm">
        <div class="row mb-4">
            <div *ngFor="let f of form_fields_view" class="{{ f.width }}">
                <mat-form-field class="full-width">
                    <mat-label>{{ f.label }}</mat-label>
                    <input formControlName="{{ f.control }}" matInput type="{{ f.type }}" placeholder="{{ f.placeholder }}">
                    <ng-container *ngIf="f.password_field">
                        <span class="validation_msg sm-text" [ngClass]="password_is_valid ? 'success' : 'error'">
                            {{ password_is_valid_msg }}
                        </span>
                    </ng-container>
                    <ng-container *ngIf="f.re_password_field">
                        <span class="validation_msg sm-text" [ngClass]="password_is_match ? 'success' : 'error'">
                            {{ password_match_msg }}
                        </span>
                    </ng-container>
                </mat-form-field>
            </div>
        </div>
        <div class="d-flex">
            <div class="flex-even">
                <button mat-button mat-raised-button class="theme-btn mr-2" [disabled]="form_invalid">
                    Create Technical Officer
                </button>
            </div>
        </div>
    </form>

    <div class="submit-on-load d-flex align-items-center justify-content-center" *ngIf="is_submitted">
        <app-spinner></app-spinner>
    </div>
</div>