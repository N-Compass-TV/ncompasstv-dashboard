<div class="row m-0 p-0 mb-4 tabs">
    <div class="col-12 col-lg pt-5" *ngIf="is_dealer">
        <div class="col-12 col-lg text-right">
            <button class="offset-lg-10 col-lg-2 p-0 f-500 md-text bg-primary text-white d-flex hidden-button" (click)="goToUrl()" [disabled]="no_dealer_values || no_credit_card">
                <div class="col-lg-10 p-2">SHOP LICENSES NOW!</div> 
                <div class="col-lg-2 p-0 p-2 white-bg text-dark"><i class="fas fa-shopping-cart"></i></div>
            </button>
        </div>
    </div>
    <div class="col-lg-12 mt-5 flex" *ngIf="is_dealer">
        <div class="col-12 col-lg">
            <mat-card class="h-100" *ngIf="!loading_license; else spinner">
				<div class="col-lg-12 p-3 text-center">
					<h4 class="mb-2 text-center">
						<span class="text-dark font-weight-medium">
							<span class="text-dark">Licenses</span>
						</span>
					</h4>
					<span class="text-dark md-text">
						<span>Total</span>
					</span>
				</div>
				<div class="col-lg-12 p-3">
					<h4 class="mb-2 text-center">
						<span class="cursor-pointer text-primary font-weight-medium">
							<a [routerLink]="['/dealer/licenses/']" target="_blank" class="text-primary">
                                <i class="fas fa-barcode mr-3 f-20"></i>
                                <span class="f-20">{{license_details.basis}}</span>
                            </a>
						</span>
					</h4>
				</div>
			</mat-card>
        </div>
        <div class="col-12 col-lg">
            <mat-card class="h-100" *ngIf="!loading_advertiser; else spinner">
				<div class="col-lg-12 p-3 text-center">
					<h4 class="mb-2 text-center">
						<span class="text-dark font-weight-medium">
							<span class="text-dark">Advertisers</span>
						</span>
					</h4>
					<span class="text-dark md-text">
						<span>Total</span>
					</span>
				</div>
				<div class="col-lg-12 p-3">
					<h4 class="mb-2 text-center">
						<span class="cursor-pointer text-primary font-weight-medium">
							<a [routerLink]="['/dealer/advertisers/']" target="_blank" class="text-primary">
                                <i class="fas fa-ad mr-3 f-20"></i>
                                <span class="f-20">{{advertiser_details.basis}}</span>
                            </a>
						</span>
					</h4>
				</div>
			</mat-card>
        </div>
        <div class="col-12 col-lg">
            <mat-card class="h-100" *ngIf="!loading_host; else spinner">
				<div class="col-lg-12 p-3 text-center">
					<h4 class="mb-2 text-center">
						<span class="text-dark font-weight-medium">
							<span class="text-dark">Hosts</span>
						</span>
					</h4>
					<span class="text-dark md-text">
						<span>Total</span>
					</span>
				</div>
				<div class="col-lg-12 p-3">
					<h4 class="mb-2 text-center">
						<span class="cursor-pointer text-primary font-weight-medium">
							<a [routerLink]="['/dealer/hosts/']" target="_blank" class="text-primary">
                                <i class="fas fa-map mr-3 f-20"></i>
                                <span class="f-20">{{host_details.basis}}</span>
                            </a>
						</span>
					</h4>
				</div>
			</mat-card>
        </div>
        <div class="col-12 col-lg">
            <mat-card class="h-100" *ngIf="!loading_content; else spinner">
				<div class="col-lg-12 p-3 text-center">
					<h4 class="mb-2 text-center">
						<span class="text-dark font-weight-medium">
							<span class="text-dark">Media Library</span>
						</span>
					</h4>
					<span class="text-dark md-text">
						<span>Total</span>
					</span>
				</div>
				<div class="col-lg-12 p-3">
					<h6 class="mb-2 text-center">
						<span class="cursor-pointer text-primary font-weight-medium">
							<a [routerLink]="['/dealer/media-library/']" target="_blank" class="text-primary mr-5">
                                <i class="fas fa-image mr-3 f-20"></i>
                                <span class="f-20">{{content_details.images}}</span>
                            </a>
							<a [routerLink]="['/dealer/media-library/']" target="_blank" class="text-primary mr-5">
                                <i class="fas fa-video mr-3 f-20"></i>
                                <span class="f-20">{{content_details.videos}}</span>
                            </a>
							<a [routerLink]="['/dealer/media-library/']" target="_blank" class="text-primary">
                                <i class="fas fa-newspaper mr-3 f-20"></i>
                                <span class="f-20">{{content_details.feeds}}</span>
                            </a>
						</span>
					</h6>
				</div>
			</mat-card>
        </div>
        <ng-template #spinner>
            <mat-card class="py-5">
                <app-spinner [diameter]="65"></app-spinner>
            </mat-card>
        </ng-template>        
    </div>

    <!-- TABS -->
    <div class="col-lg-12 min-height-500 custom-mat-tab mt-5">
        <div class="col-lg-12">
            <mat-tab-group dynamicHeight (selectedTabChange)="tabSelected($event);">
                <mat-tab label="Dealer" *ngIf="is_dealer">
                    <div class="col-lg-12 p-0">
                        <div class="theme-container">
                            <div class="row">
                                <div class="col-lg-12" *ngIf="tab_selected === 'Dealer'">
                                    <app-dealer-setting>
                                    </app-dealer-setting>
                                </div>
                            </div>
                        </div>
                    </div>
                </mat-tab>
                <mat-tab label="User" *ngIf="!is_dealer">
                    <div class="col-lg-12 p-0">
                        <div class="theme-container">
                            <div class="row">
                                <div class="col-lg-12">
                                    <app-user-setting>
                                    </app-user-setting>
                                </div>
                            </div>
                        </div>
                    </div>
                </mat-tab>
                <mat-tab label="Billing" *ngIf="is_dealer">
                    <div class="col-lg-12 p-0">
                        <div class="theme-container">
                            <div class="row">
                                <div class="col-lg-12" *ngIf="tab_selected === 'Billing'">
                                    <app-single-billings>
                                    </app-single-billings>
                                </div>
                            </div>
                        </div>
                    </div>
                </mat-tab>
                <mat-tab label="Security">
                    <div class="col-lg-12 p-0">
                        <div class="theme-container">
                            <div class="row">
                                <div class="col-lg-12" *ngIf="tab_selected === 'Security'">
                                    <app-credential-setting>
                                    </app-credential-setting>
                                </div>
                            </div>
                        </div>
                    </div>
                </mat-tab>
				<mat-tab label="Payment" *ngIf="is_dealer">
					<div class="col-lg-12 p-0">
						<div class="theme-container">
							<div class="row">
								<div class="col-lg-12" *ngIf="tab_selected === 'Payment'">
									<app-payment-setting [dealerId]="dealer_id" [dealerEmail]="dealer_email" [currentUser]="current_user"></app-payment-setting>									
								</div>
							</div>
						</div>
					</div>
				</mat-tab>
                <mat-tab label="Transactions" *ngIf="is_dealer">
					<div class="col-lg-12 p-0">
						<div class="theme-container">
							<div class="row">
								<div class="col-lg-12" *ngIf="tab_selected === 'Transactions'">
									<app-transaction-tab [dealerId]="dealer_id"></app-transaction-tab>									
								</div>
							</div>
						</div>
					</div>
				</mat-tab>
				<mat-tab label="Orders" *ngIf="is_dealer">
					<div class="col-lg-12 p-0">
						<div class="theme-container">
							<div class="row">
								<div class="col-lg-12 mt-4">
									<app-orders [dealerId]="dealer_id"> </app-orders>
								</div>
							</div>
						</div>
					</div>
				</mat-tab>
				<mat-tab label="Activity" *ngIf="is_dealer">
					<div class="col-lg-12 p-0">
						<div class="theme-container pt-4">
							<div class="row">
								<div class="col-lg-12 ml-2">
									<h5>{{ created_by }}</h5>
									<h6>{{ date_created | date : 'MMMM d, y' }}</h6>
								</div>
							</div>

							<div class="row">
								<div class="col-lg-12 pt-4" *ngIf="!initial_load_activity; else loadingContents">
									<app-single-activity-tab
										*ngIf="activity_data.length; else loadingContents"
										[activity_data]="activity_data"
										[paging_data]="paging_data_activity"
										[sort_column]="sort_column_activity"
										[sort_order]="sort_order_activity"
										[currentUser]="current_user"
										[currentRole]="current_role"
										[reload_data]="reload_data"
										(pageChanged)="getDealerActivity($event)"
										(sortColumnEvent)="getActivityColumnsAndOrder($event)">
									</app-single-activity-tab>
								</div>
							</div>
						</div>
					</div>
				</mat-tab>
			</mat-tab-group>
		</div>
	</div>
</div>

<ng-template #loadingContents>
	<ng-container *ngIf="!no_activity_data; else noDataActivity">
		<div class="loading-wrapper">
			<app-spinner></app-spinner>
		</div>
	</ng-container>
</ng-template>

<ng-template #noDataActivity>
	<mat-card>
		<div class="no-contents d-flex flex-column align-items-center">
			<div class="mb-4">
				<i class="text-gray fa-5x far fa-file-alt"></i>
			</div>
			<h3 class="text-gray">No Activities Found</h3>
		</div>
	</mat-card>
</ng-template>
