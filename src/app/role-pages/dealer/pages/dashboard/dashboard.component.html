<div class="theme-container">
	<div class="title-section col-lg-12 p-0 flex mt-4">
		<div class="col-lg-6 p-0 text-left">
			<h1 class="page-title">{{ title }}</h1>
		</div>
		<div class="col-lg-6 p-0 text-right date-section">
			<div class="text-gray md-text">{{ date }}</div>
		</div>
	</div>

	<hr class="my-3">

	<div class="row mb-3 mt-5">
		<div class="col-lg-3 mb-4">
			<mat-card class="h-100" *ngIf="licenses_details; else spinner">
				<div class="col-lg-12 p-3">
					<h4 class="mb-2">
						<span class="text-primary font-weight-medium xlg-text">
							<i class="fas fa-home"></i>
						</span>
					</h4>
				</div>
				<div class="col-lg-12">
					<h3>
						Welcome, {{user_name}}!
					</h3>
				</div>
				<div class="col-lg-12 mt-3">
					<span class="text-gray sm-text">
						N-Compass TV's Dealers are in 33 states and 90 Markets with over 1,700 locations and growing.
						Our commitment is to serving our Dealers with this unsurpassed business opportunity.
					</span>
				</div>
			</mat-card>
		</div>
		<div class="col-lg-4 mb-4">
			<mat-card class="h-100" *ngIf="licenses_details; else spinner">
				<app-data-graph-compare [id]="'status'" [title]="'License Status'" [label_array]="status_graph_label"
					[value_array]="status_graph_value">
				</app-data-graph-compare>
			</mat-card>
		</div>
		<div class="col-lg-5 mb-4">
			<mat-card class="h-100" *ngIf="licenses_details; else spinner">
				<ng-container>
					<app-data-card-graph [id]="'license-statistics'" [compare_basis]="licenses_details.basis"
						[compare_basis_label]="licenses_details.basis_label"
						[compare_basis_sub_label]="licenses_details.basis_sub_label"
						[good_value]="licenses_details.good_value"
						[good_value_label]="licenses_details.good_value_label" [bad_value]="licenses_details.bad_value"
						[bad_value_label]="licenses_details.bad_value_label" [label_array]="temp_label"
						[value_array]="temp_array">
					</app-data-card-graph>
				</ng-container>
			</mat-card>

			<ng-template #no_data_license>
				<mat-card class="p-5">
					<h3>Ugh! Sorry.</h3>
					<p class="sm-text mb-3">
						There are no available licenses at the moment.
					</p>
					<button mat-button mat-raised-button class="theme-btn mr-2"
						[routerLink]="['/dealer/licenses']">
						Generate Licenses
						<span class="fas fa-plus ml-2 sm-text"></span>
					</button>
				</mat-card>
			</ng-template>
		</div>
	</div>

	<div class="row">
		<div class="col-lg-3 mb-4">
			<mat-card class="h-100" *ngIf="hosts_details; else spinner">
				<app-data-graph-compare [id]="'host-status'" [title]="'Hosts'" [label_array]="host_label"
					[value_array]="host_array">
				</app-data-graph-compare>
			</mat-card>
		</div>
		<div class="col-lg-2 mb-4">
			<mat-card class="h-100" *ngIf="licenses_details; else spinner">
				<div class="col-lg-12 p-3 text-center">
					<h4 class="mb-2 text-center">
						<span class="text-dark font-weight-medium">
							<span class="text-dark">Advertisers</span>
						</span>
					</h4>
					<span class="text-dark md-text">
						<span>Total</span>
					</span>
				</div>
				<div class="col-lg-12 p-3">
					<h4 class="mb-2 text-center">
						<span class="cursor-pointer text-primary font-weight-medium">
							<a [routerLink]="['/dealer/advertisers/']" target="_blank" class="text-primary"><i
									class="fas fa-ad mr-3 f-35"></i><span
									class="f-35">{{advertiser_stats.basis}}</span></a>
						</span>
					</h4>
				</div>
			</mat-card>
		</div>
		<div class="col-lg-5 mb-4">
			<mat-card class="h-100" *ngIf="ad_licenses_details; else spinner">
				<ng-container>
					<app-data-card-graph [id]="'ad_average'" [average_basis]="ad_licenses_details.basis"
						[average_basis_label]="ad_licenses_details.basis_label"
						[compare_basis_sub_label]="ad_licenses_details.basis_sub_label" [label_array]="ad_license_label"
						[value_array]="ad_license_array">
					</app-data-card-graph>
				</ng-container>
			</mat-card>
		</div>
		<div class="col-lg-2 mb-4">
			<mat-card class="h-100" *ngIf="ad_licenses_details; else spinner">
				<div class="col-lg-12 p-3 text-center">
					<h4 class="mb-2 text-center">
						<span class="text-dark font-weight-medium">
							<span>Average Main Show Playlist Duration</span>
						</span>
					</h4>
				</div>
				<div class="col-lg-12 p-3">
					<h4 class="mb-2 text-center">
						<span class="text-primary font-weight-medium">
							<span class="f-35">{{ad_licenses_details.average_duration}}</span>
						</span>
					</h4>
				</div>
			</mat-card>
		</div>
	</div>

	<ng-template #spinner>
		<mat-card class="py-5">
			<app-spinner [diameter]="85"></app-spinner>
		</mat-card>
	</ng-template>

	<ng-template #small_spinner>
		<mat-card class="py-5">
			<app-spinner [diameter]="55"></app-spinner>
		</mat-card>
	</ng-template>
</div>